<div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading">
    <table class="data-table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nombre</th>
          <th scope="col">Email</th>
          <th scope="col">Teléfono</th>
          <th scope="col">Operaciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cliente of clientes; let i = index">
          <td scope="row">{{ cliente.id }}</td>
          <td>{{ cliente.nombre }}</td>
          <td>{{ cliente.email }}</td>
          <td>{{ cliente.telefono }}</td>
          <td>
            <button type="button" aria-label="Borrar cliente" (click)="borrar(cliente.id)">X</button>
            <span class="separator" aria-hidden="true"> | | | </span>
            <button type="button" aria-label="Editar cliente" (click)="editar(cliente.id)">U</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  

    <hr>
    <form [formGroup]="myForm" (ngSubmit)="saveCliente()" *ngIf="!loading">
      <div *ngIf="editing">Editando cliente ID: {{ editingId }}</div>
      <input type="hidden" formControlName="id"/>
      <label for="nombre">Nombre:</label>
      <input id="nombre" formControlName="nombre" type="text" required />

      <label for="email">Email:</label>
      <input id="email" formControlName="email" type="email" required />

      <label for="telefono">Teléfono:</label>
      <input id="telefono" formControlName="telefono" type="tel" required />
      <button type="submit" [disabled]="myForm.invalid">{{ editing ? 'Actualizar Cliente' : 'Crear Cliente' }}</button>
      <button type="button" (click)="agregar()">Nuevo</button>
    </form>
</div>